find_package(openvds CONFIG REQUIRED)

find_library(PFFFT_RELEASE_LIBRARY libpffft.a
    PATHS ${CMAKE_PREFIX_PATH}
    PATH_SUFFIXES "lib"
    NO_DEFAULT_PATH)

add_library(cppcore
  attribute.cpp
  axis.cpp
  boundingbox.cpp
  cppapi_data.cpp
  cppapi_metadata.cpp
  datahandle.hpp
  datahandle.cpp
  direction.cpp
  metadatahandle.cpp
  regularsurface.cpp
  subcube.cpp
  subvolume.cpp
  volumedatalayout.cpp
  convolutions.cpp
)

target_include_directories(cppcore
  PUBLIC ${CMAKE_SOURCE_DIR}/internal/core
)

target_link_libraries(cppcore
  PUBLIC openvds::openvds
)

target_link_libraries(cppcore PRIVATE ${PFFFT_RELEASE_LIBRARY})

find_package(Boost REQUIRED)
target_include_directories(cppcore
  PRIVATE ${Boost_INCLUDE_DIRS}
)
